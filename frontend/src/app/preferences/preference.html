<div class="pref-container">
    <mat-card class="pref-card">
        <mat-card-header>
            <mat-card-title>Event Preferences</mat-card-title>
            <mat-card-subtitle>Select the event categories you're interested in</mat-card-subtitle>
        </mat-card-header>
        <mat-card-content>
            @if (loading) {
            <div class="spinner-wrap"><mat-spinner diameter="40"></mat-spinner></div>
            } @else {
            <mat-form-field appearance="outline" class="full-width">
                <mat-label>Categories</mat-label>
                <mat-select multiple [(ngModel)]="selectedCategoryIds">
                    @for (cat of categories; track cat.id) {
                    <mat-option [value]="cat.id">{{ cat.name }}</mat-option>
                    }
                </mat-select>
            </mat-form-field>
            }
        </mat-card-content>
        <mat-card-actions>
            <button mat-flat-button color="primary" (click)="save()" [disabled]="loading">
                Save Preferences
            </button>
        </mat-card-actions>
    </mat-card>
</div>